<html>

<head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
<title>CBPS example</title>
</head>

<body>

<h1>Impliment CBPS code with test data</h1>

<div class="chunk" id="unnamed-chunk-1"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">mydata</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read.csv</span><span class="hl std">(</span><span class="hl str">&quot;C:\\Users\\kkranker\\Documents\\Stata\\Ado\\Devel\\gmatch\\testfile.csv&quot;</span><span class="hl std">,</span> <span class="hl kwc">stringsAsFactors</span> <span class="hl std">= F)</span>
<span class="hl kwd">options</span><span class="hl std">(</span><span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">120</span><span class="hl std">)</span>
<span class="hl kwd">library</span><span class="hl std">(CBPS)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: MASS
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: MatchIt
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: nnet
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: numDeriv
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: glmnet
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: Matrix
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: foreach
</pre></div>
<div class="message"><pre class="knitr r">## Loaded glmnet 2.0-5
</pre></div>
<div class="message"><pre class="knitr r">## CBPS: Covariate Balancing Propensity Score
## Version: 0.17
## Authors: Christian Fong [aut, cre],
##   Marc Ratkovic [aut],
##   Kosuke Imai [aut],
##   Chad Hazlett [ctb],
##   Xiaolin Yang [ctb],
##   Sida Peng [ctb]
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(cobalt)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: package 'cobalt' was built under R version 3.4.3
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'cobalt'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:MatchIt':
## 
##     lalonde
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">stdall</span><span class="hl kwb">=</span><span class="hl num">TRUE</span>
</pre></div>
</div></div>

<h1>Unweighted</h1>

<h2>ATE:</h2>

<div class="chunk" id="unnamed-chunk-2"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">fit_ATE</span>       <span class="hl kwb">&lt;-</span> <span class="hl kwd">CBPS</span><span class="hl std">(treat</span> <span class="hl opt">~</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">X__000000</span> <span class="hl opt">+</span> <span class="hl std">X__000001</span> <span class="hl opt">+</span><span class="hl std">x4</span> <span class="hl opt">+</span> <span class="hl std">x5</span> <span class="hl opt">+</span> <span class="hl std">x6</span> <span class="hl opt">+</span><span class="hl std">x7</span> <span class="hl opt">+</span><span class="hl std">x90</span> <span class="hl opt">+</span><span class="hl std">x91</span><span class="hl opt">+</span> <span class="hl std">x92</span> <span class="hl opt">+</span><span class="hl std">x93</span> <span class="hl opt">+</span><span class="hl std">x94</span><span class="hl opt">+</span> <span class="hl std">x95,</span> <span class="hl kwc">data</span> <span class="hl std">= mydata,</span> <span class="hl kwc">ATT</span> <span class="hl std">=</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">method</span><span class="hl std">=</span><span class="hl str">'exact'</span><span class="hl std">,</span> <span class="hl kwc">standardize</span><span class="hl std">=stdall)</span>
<span class="hl kwd">summary</span><span class="hl std">(fit_ATE)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:	
## CBPS(formula = treat ~ x1 + x1 + X__000000 + X__000001 + x4 + 
##     x5 + x6 + x7 + x90 + x91 + x92 + x93 + x94 + x95, data = mydata, 
##     ATT = 0, standardize = stdall, method = &quot;exact&quot;)
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) 3.13     0.954      3.28    0.00105  ** 
## x1          -1.44    0.178      -8.09   6.66e-16 ***
## X__000000   -2.55    0.157      -16.2   0.000    ***
## X__000001   -1.02    0.16       -6.39   1.61e-10 ***
## x4          -0.232   0.164      -1.42   0.157       
## x5          0.0737   0.199      0.37    0.711       
## x6          -0.486   0.161      -3.02   0.00251  ** 
## x7          0.0655   0.169      0.387   0.699       
## x90         0.0304   0.141      0.216   0.829       
## x91         -0.0237  0.168      -0.141  0.888       
## x92         0.201    0.136      1.48    0.14        
## x93         -0.0067  0.167      -0.0402 0.968       
## x94         -0.366   0.152      -2.41   0.0161   *  
## x95         -0.00801 0.15       -0.0532 0.958       
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
## 
## J - statistic:	  0.1143654
## Log-Likelihood:  -219.0173
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">print</span><span class="hl std">(  fit_ATE</span><span class="hl opt">$</span><span class="hl std">weights[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 0.002042248 0.002920197 0.002136113 0.002012184 0.001988203 0.002724463 0.002297541 0.002268947 0.002129800
## [10] 0.002032423
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">balance</span><span class="hl std">(fit_ATE)</span>
</pre></div>
<div class="output"><pre class="knitr r">## $balanced
##                 0.mean       1.mean  0.std.mean   1.std.mean
## x1         0.675049058  0.675045498  1.46882286  1.468815116
## X__000000  0.021935749  0.021935606  0.14318160  0.143180664
## X__000001  0.037006603  0.037008332  0.18865959  0.188668403
## x4         0.486102298  0.486106183  0.97172956  0.971737324
## x5        26.253884327 26.253832582  4.52065639  4.520647484
## x6        12.634734042 12.634699111  5.67440352  5.674387831
## x7         6.724944510  6.724961246  2.00898313  2.008988126
## x90       -0.059222052 -0.059222368 -0.06019810 -0.060198418
## x91        0.011690773  0.011707977  0.01176140  0.011778703
## x92       -0.004125337 -0.004124244 -0.00406698 -0.004065902
## x93        0.044384086  0.044376393  0.04533438  0.045326518
## x94       -0.085666395 -0.085670204 -0.08733048 -0.087334365
## x95       -0.085913681 -0.085919570 -0.08701840 -0.087024365
## 
## $original
##                 0.mean      1.mean   0.std.mean  1.std.mean
## x1         0.750000000  0.46739130  1.631906797  1.01698540
## X__000000  0.026960784  0.01086957  0.175981600  0.07094910
## X__000001  0.044117647  0.02173913  0.224911675  0.11082604
## x4         0.495098039  0.43478261  0.989712249  0.86914033
## x5        26.568627451 25.46739130  4.574852013  4.38523016
## x6        13.159313725 11.86956522  5.909998253  5.33075745
## x7         6.696078431  6.85869565  2.000359789  2.04893941
## x90       -0.048508020  0.09720244 -0.049307486  0.09880444
## x91       -0.007743354 -0.08901568 -0.007790131 -0.08955341
## x92       -0.022780135  0.04537868 -0.022457889  0.04473676
## x93        0.040385344  0.08656867  0.041250019  0.08842216
## x94        0.016055935 -0.12991726  0.016367825 -0.13244093
## x95       -0.065828219 -0.08072509 -0.066674669 -0.08176309
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">fit_ATE_over</span>  <span class="hl kwb">&lt;-</span> <span class="hl kwd">CBPS</span><span class="hl std">(treat</span> <span class="hl opt">~</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">X__000000</span> <span class="hl opt">+</span> <span class="hl std">X__000001</span> <span class="hl opt">+</span><span class="hl std">x4</span> <span class="hl opt">+</span> <span class="hl std">x5</span> <span class="hl opt">+</span> <span class="hl std">x6</span> <span class="hl opt">+</span><span class="hl std">x7</span> <span class="hl opt">+</span><span class="hl std">x90</span> <span class="hl opt">+</span><span class="hl std">x91</span><span class="hl opt">+</span> <span class="hl std">x92</span> <span class="hl opt">+</span><span class="hl std">x93</span> <span class="hl opt">+</span><span class="hl std">x94</span><span class="hl opt">+</span> <span class="hl std">x95,</span> <span class="hl kwc">data</span> <span class="hl std">= mydata,</span> <span class="hl kwc">ATT</span> <span class="hl std">=</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">method</span><span class="hl std">=</span><span class="hl str">&quot;over&quot;</span><span class="hl std">,</span> <span class="hl kwc">standardize</span><span class="hl std">=stdall)</span>
<span class="hl kwd">summary</span><span class="hl std">(fit_ATE_over)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:	
## CBPS(formula = treat ~ x1 + x1 + X__000000 + X__000001 + x4 + 
##     x5 + x6 + x7 + x90 + x91 + x92 + x93 + x94 + x95, data = mydata, 
##     ATT = 0, standardize = stdall, method = &quot;over&quot;)
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) 1.12     0.794      1.41    0.158       
## x1          -1.04    0.105      -9.83   0.000    ***
## X__000000   -1.69    0.123      -13.8   0.000    ***
## X__000001   -0.507   0.119      -4.28   1.89e-05 ***
## x4          -0.233   0.118      -1.98   0.0474   *  
## x5          0.0463   0.148      0.313   0.754       
## x6          -0.239   0.133      -1.81   0.0708   .  
## x7          0.00624  0.119      0.0522  0.958       
## x90         0.114    0.113      1.01    0.312       
## x91         -0.146   0.113      -1.29   0.198       
## x92         0.129    0.123      1.05    0.296       
## x93         0.086    0.0928     0.927   0.354       
## x94         -0.164   0.151      -1.09   0.277       
## x95         0.0239   0.114      0.21    0.834       
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
## 
## J - statistic:	  0.01633601
## Log-Likelihood:  -212.0624
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">print</span><span class="hl std">(  fit_ATE_over</span><span class="hl opt">$</span><span class="hl std">weights[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 0.002201981 0.003045511 0.002314775 0.002246831 0.002161762 0.003185280 0.002374925 0.002452028 0.002316296
## [10] 0.002308610
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">balance</span><span class="hl std">(fit_ATE_over)</span>
</pre></div>
<div class="output"><pre class="knitr r">## $balanced
##                 0.mean       1.mean   0.std.mean   1.std.mean
## x1         0.704017019  0.633768751  1.531853544  1.379002042
## X__000000  0.023368075  0.015882477  0.152530848  0.103669972
## X__000001  0.039921922  0.024564941  0.203521880  0.125232020
## x4         0.486197550  0.486184119  0.971919970  0.971893119
## x5        26.353835227 25.796791749  4.537866939  4.441949622
## x6        12.914485196 12.302313044  5.800042961  5.525109448
## x7         6.667774539  6.886511079  1.991904397  2.057248880
## x90       -0.027115249 -0.059144724 -0.027562139 -0.060119494
## x91       -0.023451451  0.017221776 -0.023593117  0.017325810
## x92       -0.007909402  0.002895899 -0.007797516  0.002854933
## x93        0.055291284  0.024733138  0.056475103  0.025262689
## x94       -0.021790092 -0.119895354 -0.022213369 -0.122224346
## x95       -0.070818080 -0.095525215 -0.071728693 -0.096753524
## 
## $original
##                 0.mean      1.mean   0.std.mean  1.std.mean
## x1         0.750000000  0.46739130  1.631906797  1.01698540
## X__000000  0.026960784  0.01086957  0.175981600  0.07094910
## X__000001  0.044117647  0.02173913  0.224911675  0.11082604
## x4         0.495098039  0.43478261  0.989712249  0.86914033
## x5        26.568627451 25.46739130  4.574852013  4.38523016
## x6        13.159313725 11.86956522  5.909998253  5.33075745
## x7         6.696078431  6.85869565  2.000359789  2.04893941
## x90       -0.048508020  0.09720244 -0.049307486  0.09880444
## x91       -0.007743354 -0.08901568 -0.007790131 -0.08955341
## x92       -0.022780135  0.04537868 -0.022457889  0.04473676
## x93        0.040385344  0.08656867  0.041250019  0.08842216
## x94        0.016055935 -0.12991726  0.016367825 -0.13244093
## x95       -0.065828219 -0.08072509 -0.066674669 -0.08176309
</pre></div>
</div></div>

<h2>ATET:</h2>

<div class="chunk" id="unnamed-chunk-3"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">fit_ATET</span>      <span class="hl kwb">&lt;-</span> <span class="hl kwd">CBPS</span><span class="hl std">(treat</span> <span class="hl opt">~</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">X__000000</span> <span class="hl opt">+</span> <span class="hl std">X__000001</span> <span class="hl opt">+</span><span class="hl std">x4</span> <span class="hl opt">+</span> <span class="hl std">x5</span> <span class="hl opt">+</span> <span class="hl std">x6</span> <span class="hl opt">+</span><span class="hl std">x7</span> <span class="hl opt">+</span><span class="hl std">x90</span> <span class="hl opt">+</span><span class="hl std">x91</span><span class="hl opt">+</span> <span class="hl std">x92</span> <span class="hl opt">+</span><span class="hl std">x93</span> <span class="hl opt">+</span><span class="hl std">x94</span><span class="hl opt">+</span> <span class="hl std">x95,</span> <span class="hl kwc">data</span> <span class="hl std">= mydata,</span> <span class="hl kwc">ATT</span> <span class="hl std">=</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwc">method</span><span class="hl std">=</span><span class="hl str">&quot;exact&quot;</span><span class="hl std">,</span> <span class="hl kwc">standardize</span><span class="hl std">=stdall)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;Finding ATT with T=1 as the treatment.  Set ATT=2 to find ATT with T=0 as the treatment&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">summary</span><span class="hl std">(fit_ATET)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:	
## CBPS(formula = treat ~ x1 + x1 + X__000000 + X__000001 + x4 + 
##     x5 + x6 + x7 + x90 + x91 + x92 + x93 + x94 + x95, data = mydata, 
##     ATT = 1, standardize = stdall, method = &quot;exact&quot;)
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) 0.782    0.954      0.82    0.412       
## x1          -1.34    0.137      -9.77   0.000    ***
## X__000000   -1.53    0.159      -9.57   0.000    ***
## X__000001   -0.599   0.164      -3.65   0.000258 ***
## x4          -0.318   0.158      -2.02   0.0434   *  
## x5          0.0588   0.178      0.33    0.741       
## x6          -0.244   0.161      -1.52   0.129       
## x7          0.0341   0.156      0.219   0.827       
## x90         0.159    0.161      0.983   0.326       
## x91         -0.162   0.161      -1.01   0.314       
## x92         0.139    0.148      0.94    0.347       
## x93         0.0571   0.12       0.477   0.633       
## x94         -0.118   0.177      -0.662  0.508       
## x95         0.0115   0.137      0.0836  0.933       
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
## 
## J - statistic:	  0.0003969905
## Log-Likelihood:  -211.6286
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">print</span><span class="hl std">(  fit_ATET</span><span class="hl opt">$</span><span class="hl std">weights[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 0.0011791894 0.0055449137 0.0012237949 0.0011966105 0.0006764259 0.0062580044 0.0021101563 0.0019438694
##  [9] 0.0014213532 0.0016769631
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">balance</span><span class="hl std">(fit_ATET)</span>
</pre></div>
<div class="output"><pre class="knitr r">## $balanced
##                0.mean      1.mean  0.std.mean  1.std.mean
## x1         0.46740605  0.46739130  1.01701747  1.01698540
## X__000000  0.01086002  0.01086957  0.07088682  0.07094910
## X__000001  0.02174399  0.02173913  0.11085084  0.11082604
## x4         0.43478778  0.43478261  0.86915066  0.86914033
## x5        25.46759207 25.46739130  4.38526473  4.38523016
## x6        11.86968070 11.86956522  5.33080931  5.33075745
## x7         6.85874763  6.85869565  2.04895494  2.04893941
## x90        0.09722295  0.09720244  0.09882530  0.09880444
## x91       -0.08901788 -0.08901568 -0.08955562 -0.08955341
## x92        0.04540091  0.04537868  0.04475867  0.04473676
## x93        0.08656716  0.08656867  0.08842061  0.08842216
## x94       -0.12991258 -0.12991726 -0.13243615 -0.13244093
## x95       -0.08073070 -0.08072509 -0.08176878 -0.08176309
## 
## $original
##                 0.mean      1.mean   0.std.mean  1.std.mean
## x1         0.750000000  0.46739130  1.631906797  1.01698540
## X__000000  0.026960784  0.01086957  0.175981600  0.07094910
## X__000001  0.044117647  0.02173913  0.224911675  0.11082604
## x4         0.495098039  0.43478261  0.989712249  0.86914033
## x5        26.568627451 25.46739130  4.574852013  4.38523016
## x6        13.159313725 11.86956522  5.909998253  5.33075745
## x7         6.696078431  6.85869565  2.000359789  2.04893941
## x90       -0.048508020  0.09720244 -0.049307486  0.09880444
## x91       -0.007743354 -0.08901568 -0.007790131 -0.08955341
## x92       -0.022780135  0.04537868 -0.022457889  0.04473676
## x93        0.040385344  0.08656867  0.041250019  0.08842216
## x94        0.016055935 -0.12991726  0.016367825 -0.13244093
## x95       -0.065828219 -0.08072509 -0.066674669 -0.08176309
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">fit_ATET_over</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">CBPS</span><span class="hl std">(treat</span> <span class="hl opt">~</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">X__000000</span> <span class="hl opt">+</span> <span class="hl std">X__000001</span> <span class="hl opt">+</span><span class="hl std">x4</span> <span class="hl opt">+</span> <span class="hl std">x5</span> <span class="hl opt">+</span> <span class="hl std">x6</span> <span class="hl opt">+</span><span class="hl std">x7</span> <span class="hl opt">+</span><span class="hl std">x90</span> <span class="hl opt">+</span><span class="hl std">x91</span><span class="hl opt">+</span> <span class="hl std">x92</span> <span class="hl opt">+</span><span class="hl std">x93</span> <span class="hl opt">+</span><span class="hl std">x94</span><span class="hl opt">+</span> <span class="hl std">x95,</span> <span class="hl kwc">data</span> <span class="hl std">= mydata,</span> <span class="hl kwc">ATT</span> <span class="hl std">=</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwc">method</span><span class="hl std">=</span><span class="hl str">&quot;over&quot;</span><span class="hl std">,</span> <span class="hl kwc">standardize</span><span class="hl std">=stdall)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;Finding ATT with T=1 as the treatment.  Set ATT=2 to find ATT with T=0 as the treatment&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">summary</span><span class="hl std">(fit_ATET_over)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:	
## CBPS(formula = treat ~ x1 + x1 + X__000000 + X__000001 + x4 + 
##     x5 + x6 + x7 + x90 + x91 + x92 + x93 + x94 + x95, data = mydata, 
##     ATT = 1, standardize = stdall, method = &quot;over&quot;)
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) 0.782    0.948      0.825   0.409       
## x1          -1.34    0.136      -9.82   0.000    ***
## X__000000   -1.53    0.158      -9.64   0.000    ***
## X__000001   -0.599   0.162      -3.69   0.000224 ***
## x4          -0.318   0.156      -2.03   0.0419   *  
## x5          0.0588   0.177      0.332   0.74        
## x6          -0.244   0.16       -1.53   0.127       
## x7          0.0341   0.155      0.22    0.826       
## x90         0.159    0.159      0.997   0.319       
## x91         -0.162   0.159      -1.02   0.309       
## x92         0.139    0.147      0.945   0.345       
## x93         0.0571   0.119      0.481   0.631       
## x94         -0.118   0.176      -0.668  0.504       
## x95         0.0115   0.136      0.0843  0.933       
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
## 
## J - statistic:	  0.0003969905
## Log-Likelihood:  -211.6286
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">print</span><span class="hl std">(  fit_ATET_over</span><span class="hl opt">$</span><span class="hl std">weights[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 0.0011791894 0.0055449137 0.0012237949 0.0011966105 0.0006764259 0.0062580044 0.0021101563 0.0019438694
##  [9] 0.0014213532 0.0016769631
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">balance</span><span class="hl std">(fit_ATET_over)</span>
</pre></div>
<div class="output"><pre class="knitr r">## $balanced
##                0.mean      1.mean  0.std.mean  1.std.mean
## x1         0.46740605  0.46739130  1.01701747  1.01698540
## X__000000  0.01086002  0.01086957  0.07088682  0.07094910
## X__000001  0.02174399  0.02173913  0.11085084  0.11082604
## x4         0.43478778  0.43478261  0.86915066  0.86914033
## x5        25.46759207 25.46739130  4.38526473  4.38523016
## x6        11.86968070 11.86956522  5.33080931  5.33075745
## x7         6.85874763  6.85869565  2.04895494  2.04893941
## x90        0.09722295  0.09720244  0.09882530  0.09880444
## x91       -0.08901788 -0.08901568 -0.08955562 -0.08955341
## x92        0.04540091  0.04537868  0.04475867  0.04473676
## x93        0.08656716  0.08656867  0.08842061  0.08842216
## x94       -0.12991258 -0.12991726 -0.13243615 -0.13244093
## x95       -0.08073070 -0.08072509 -0.08176878 -0.08176309
## 
## $original
##                 0.mean      1.mean   0.std.mean  1.std.mean
## x1         0.750000000  0.46739130  1.631906797  1.01698540
## X__000000  0.026960784  0.01086957  0.175981600  0.07094910
## X__000001  0.044117647  0.02173913  0.224911675  0.11082604
## x4         0.495098039  0.43478261  0.989712249  0.86914033
## x5        26.568627451 25.46739130  4.574852013  4.38523016
## x6        13.159313725 11.86956522  5.909998253  5.33075745
## x7         6.696078431  6.85869565  2.000359789  2.04893941
## x90       -0.048508020  0.09720244 -0.049307486  0.09880444
## x91       -0.007743354 -0.08901568 -0.007790131 -0.08955341
## x92       -0.022780135  0.04537868 -0.022457889  0.04473676
## x93        0.040385344  0.08656867  0.041250019  0.08842216
## x94        0.016055935 -0.12991726  0.016367825 -0.13244093
## x95       -0.065828219 -0.08072509 -0.066674669 -0.08176309
</pre></div>
</div></div>


<h1>Weighted</h1>

<h2>Weighted ATE:</h2>

<div class="chunk" id="unnamed-chunk-4"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">W_fit_ATE</span>       <span class="hl kwb">&lt;-</span> <span class="hl kwd">CBPS</span><span class="hl std">(treat</span> <span class="hl opt">~</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">X__000000</span> <span class="hl opt">+</span> <span class="hl std">X__000001</span> <span class="hl opt">+</span><span class="hl std">x4</span> <span class="hl opt">+</span> <span class="hl std">x5</span> <span class="hl opt">+</span> <span class="hl std">x6</span> <span class="hl opt">+</span><span class="hl std">x7</span> <span class="hl opt">+</span><span class="hl std">x90</span> <span class="hl opt">+</span><span class="hl std">x91</span><span class="hl opt">+</span> <span class="hl std">x92</span> <span class="hl opt">+</span><span class="hl std">x93</span> <span class="hl opt">+</span><span class="hl std">x94</span><span class="hl opt">+</span> <span class="hl std">x95,</span> <span class="hl kwc">data</span> <span class="hl std">= mydata,</span> <span class="hl kwc">ATT</span> <span class="hl std">=</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">method</span><span class="hl std">=</span><span class="hl str">'exact'</span><span class="hl std">,</span> <span class="hl kwc">standardize</span><span class="hl std">=stdall,</span> <span class="hl kwc">sample.weights</span><span class="hl std">=mydata</span><span class="hl opt">$</span><span class="hl std">wgt)</span>
<span class="hl kwd">summary</span><span class="hl std">(W_fit_ATE)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:	
## CBPS(formula = treat ~ x1 + x1 + X__000000 + X__000001 + x4 + 
##     x5 + x6 + x7 + x90 + x91 + x92 + x93 + x94 + x95, data = mydata, 
##     ATT = 0, standardize = stdall, method = &quot;exact&quot;, sample.weights = mydata$wgt)
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) 3.07     0.959      3.21    0.00134  ** 
## x1          -1.5     0.177      -8.48   0.000    ***
## X__000000   -2.53    0.158      -15.9   0.000    ***
## X__000001   -0.819   0.158      -5.17   2.33e-07 ***
## x4          -0.324   0.166      -1.95   0.0512   .  
## x5          0.0771   0.201      0.384   0.701       
## x6          -0.488   0.164      -2.98   0.00284  ** 
## x7          0.0722   0.169      0.428   0.669       
## x90         0.0235   0.14       0.167   0.867       
## x91         0.0257   0.167      0.154   0.878       
## x92         0.215    0.136      1.58    0.113       
## x93         -0.0285  0.168      -0.169  0.866       
## x94         -0.339   0.152      -2.24   0.0252   *  
## x95         -0.0408  0.151      -0.269  0.788       
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
## 
## J - statistic:	  0.1052491
## Log-Likelihood:  -217.0747
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">print</span><span class="hl std">(  W_fit_ATE</span><span class="hl opt">$</span><span class="hl std">weights[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 0.002468610 0.003454240 0.002467799 0.001816855 0.001337019 0.002717409 0.003316141 0.001696537 0.002473141
## [10] 0.002284052
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">balance</span><span class="hl std">(W_fit_ATE)</span>
</pre></div>
<div class="output"><pre class="knitr r">## $balanced
##                 0.mean      1.mean   0.std.mean   1.std.mean
## x1         0.669536089  0.66951022  1.456827326  1.456771043
## X__000000  0.022067697  0.02206550  0.144042867  0.144028528
## X__000001  0.036692966  0.03668083  0.187060667  0.186998816
## x4         0.485133864  0.48512232  0.969793637  0.969770558
## x5        26.179025340 26.17866215  4.507766424  4.507703887
## x6        12.634632791 12.63437621  5.674358046  5.674242811
## x7         6.755214056  6.75535724  2.018025730  2.018068505
## x90       -0.052012884 -0.05204264 -0.052870114 -0.052900359
## x91        0.016471929  0.01648683  0.016571433  0.016586424
## x92       -0.002167316 -0.00216896 -0.002136657 -0.002138278
## x93        0.045698188  0.04568015  0.046676613  0.046658188
## x94       -0.090968317 -0.09101597 -0.092735395 -0.092783971
## x95       -0.089451956 -0.08946380 -0.090602172 -0.090614168
## 
## $original
##                 0.mean      1.mean   0.std.mean  1.std.mean
## x1         0.750000000  0.46739130  1.631906797  1.01698540
## X__000000  0.026960784  0.01086957  0.175981600  0.07094910
## X__000001  0.044117647  0.02173913  0.224911675  0.11082604
## x4         0.495098039  0.43478261  0.989712249  0.86914033
## x5        26.568627451 25.46739130  4.574852013  4.38523016
## x6        13.159313725 11.86956522  5.909998253  5.33075745
## x7         6.696078431  6.85869565  2.000359789  2.04893941
## x90       -0.048508020  0.09720244 -0.049307486  0.09880444
## x91       -0.007743354 -0.08901568 -0.007790131 -0.08955341
## x92       -0.022780135  0.04537868 -0.022457889  0.04473676
## x93        0.040385344  0.08656867  0.041250019  0.08842216
## x94        0.016055935 -0.12991726  0.016367825 -0.13244093
## x95       -0.065828219 -0.08072509 -0.066674669 -0.08176309
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">W_fit_ATE_over</span>  <span class="hl kwb">&lt;-</span> <span class="hl kwd">CBPS</span><span class="hl std">(treat</span> <span class="hl opt">~</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">X__000000</span> <span class="hl opt">+</span> <span class="hl std">X__000001</span> <span class="hl opt">+</span><span class="hl std">x4</span> <span class="hl opt">+</span> <span class="hl std">x5</span> <span class="hl opt">+</span> <span class="hl std">x6</span> <span class="hl opt">+</span><span class="hl std">x7</span> <span class="hl opt">+</span><span class="hl std">x90</span> <span class="hl opt">+</span><span class="hl std">x91</span><span class="hl opt">+</span> <span class="hl std">x92</span> <span class="hl opt">+</span><span class="hl std">x93</span> <span class="hl opt">+</span><span class="hl std">x94</span><span class="hl opt">+</span> <span class="hl std">x95,</span> <span class="hl kwc">data</span> <span class="hl std">= mydata,</span> <span class="hl kwc">ATT</span> <span class="hl std">=</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">method</span><span class="hl std">=</span><span class="hl str">&quot;over&quot;</span><span class="hl std">,</span> <span class="hl kwc">standardize</span><span class="hl std">=stdall,</span> <span class="hl kwc">sample.weights</span><span class="hl std">=mydata</span><span class="hl opt">$</span><span class="hl std">wgt)</span>
<span class="hl kwd">summary</span><span class="hl std">(W_fit_ATE_over)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:	
## CBPS(formula = treat ~ x1 + x1 + X__000000 + X__000001 + x4 + 
##     x5 + x6 + x7 + x90 + x91 + x92 + x93 + x94 + x95, data = mydata, 
##     ATT = 0, standardize = stdall, method = &quot;over&quot;, sample.weights = mydata$wgt)
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) 1.17     0.789      1.48    0.138       
## x1          -1.1     0.111      -9.87   0.000    ***
## X__000000   -1.63    0.127      -12.8   0.000    ***
## X__000001   -0.458   0.117      -3.92   8.71e-05 ***
## x4          -0.306   0.119      -2.58   0.00995  ** 
## x5          0.0487   0.148      0.329   0.742       
## x6          -0.247   0.133      -1.85   0.0642   .  
## x7          0.0108   0.123      0.0878  0.93        
## x90         0.109    0.113      0.964   0.335       
## x91         -0.122   0.117      -1.04   0.298       
## x92         0.138    0.127      1.09    0.276       
## x93         0.0974   0.0942     1.03    0.301       
## x94         -0.148   0.153      -0.962  0.336       
## x95         0.00572  0.115      0.0499  0.96        
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
## 
## J - statistic:	  0.01550175
## Log-Likelihood:  -210.1403
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">print</span><span class="hl std">(  W_fit_ATE_over</span><span class="hl opt">$</span><span class="hl std">weights[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 0.002657360 0.003474558 0.002637942 0.002028186 0.001451337 0.003259841 0.003429055 0.001843713 0.002684457
## [10] 0.002599692
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">balance</span><span class="hl std">(W_fit_ATE_over)</span>
</pre></div>
<div class="output"><pre class="knitr r">## $balanced
##                 0.mean       1.mean   0.std.mean   1.std.mean
## x1         0.698935407  0.628680284  1.520796589  1.367930172
## X__000000  0.023626416  0.015253395  0.154217117  0.099563750
## X__000001  0.039158124  0.026955080  0.199628038  0.137416945
## x4         0.485663745  0.480928488  0.970852881  0.961386994
## x5        26.280531449 25.799762782  4.525244762  4.442461204
## x6        12.903347983 12.317381041  5.795041111  5.531876658
## x7         6.697052539  6.930965760  2.000650790  2.070529094
## x90       -0.019065277 -0.057393455 -0.019379494 -0.058339363
## x91       -0.019282761  0.033774064 -0.019399245  0.033978087
## x92       -0.008566783  0.006134599 -0.008445598  0.006047819
## x93        0.061690692  0.011567055  0.063011526  0.011814713
## x94       -0.030651131 -0.121270929 -0.031246535 -0.123626642
## x95       -0.074856566 -0.105220700 -0.075819107 -0.106573678
## 
## $original
##                 0.mean      1.mean   0.std.mean  1.std.mean
## x1         0.750000000  0.46739130  1.631906797  1.01698540
## X__000000  0.026960784  0.01086957  0.175981600  0.07094910
## X__000001  0.044117647  0.02173913  0.224911675  0.11082604
## x4         0.495098039  0.43478261  0.989712249  0.86914033
## x5        26.568627451 25.46739130  4.574852013  4.38523016
## x6        13.159313725 11.86956522  5.909998253  5.33075745
## x7         6.696078431  6.85869565  2.000359789  2.04893941
## x90       -0.048508020  0.09720244 -0.049307486  0.09880444
## x91       -0.007743354 -0.08901568 -0.007790131 -0.08955341
## x92       -0.022780135  0.04537868 -0.022457889  0.04473676
## x93        0.040385344  0.08656867  0.041250019  0.08842216
## x94        0.016055935 -0.12991726  0.016367825 -0.13244093
## x95       -0.065828219 -0.08072509 -0.066674669 -0.08176309
</pre></div>
</div></div>


<h2>Weighted ATET:</h2>

<div class="chunk" id="unnamed-chunk-5"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">W_fit_ATET</span>      <span class="hl kwb">&lt;-</span> <span class="hl kwd">CBPS</span><span class="hl std">(treat</span> <span class="hl opt">~</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">X__000000</span> <span class="hl opt">+</span> <span class="hl std">X__000001</span> <span class="hl opt">+</span><span class="hl std">x4</span> <span class="hl opt">+</span> <span class="hl std">x5</span> <span class="hl opt">+</span> <span class="hl std">x6</span> <span class="hl opt">+</span><span class="hl std">x7</span> <span class="hl opt">+</span><span class="hl std">x90</span> <span class="hl opt">+</span><span class="hl std">x91</span><span class="hl opt">+</span> <span class="hl std">x92</span> <span class="hl opt">+</span><span class="hl std">x93</span> <span class="hl opt">+</span><span class="hl std">x94</span><span class="hl opt">+</span> <span class="hl std">x95,</span> <span class="hl kwc">data</span> <span class="hl std">= mydata,</span> <span class="hl kwc">ATT</span> <span class="hl std">=</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwc">method</span><span class="hl std">=</span><span class="hl str">&quot;exact&quot;</span><span class="hl std">,</span> <span class="hl kwc">standardize</span><span class="hl std">=stdall,</span> <span class="hl kwc">sample.weights</span><span class="hl std">=mydata</span><span class="hl opt">$</span><span class="hl std">wgt)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;Finding ATT with T=1 as the treatment.  Set ATT=2 to find ATT with T=0 as the treatment&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">summary</span><span class="hl std">(W_fit_ATET)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:	
## CBPS(formula = treat ~ x1 + x1 + X__000000 + X__000001 + x4 + 
##     x5 + x6 + x7 + x90 + x91 + x92 + x93 + x94 + x95, data = mydata, 
##     ATT = 1, standardize = stdall, method = &quot;exact&quot;, sample.weights = mydata$wgt)
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) 0.626    0.996      0.629   0.529       
## x1          -1.45    0.139      -10.4   0.000    ***
## X__000000   -1.55    0.163      -9.49   0.000    ***
## X__000001   -0.471   0.173      -2.73   0.00633  ** 
## x4          -0.382   0.159      -2.4    0.0163   *  
## x5          0.0636   0.175      0.363   0.717       
## x6          -0.243   0.163      -1.49   0.137       
## x7          0.0477   0.161      0.296   0.767       
## x90         0.133    0.17       0.784   0.433       
## x91         -0.134   0.168      -0.797  0.425       
## x92         0.152    0.152      1       0.315       
## x93         0.0758   0.126      0.601   0.548       
## x94         -0.102   0.184      -0.554  0.58        
## x95         -0.0383  0.138      -0.277  0.782       
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
## 
## J - statistic:	  0.0004300359
## Log-Likelihood:  -209.7375
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">print</span><span class="hl std">(  W_fit_ATET</span><span class="hl opt">$</span><span class="hl std">weights[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 0.0014037166 0.0065797896 0.0014803376 0.0010134728 0.0003948369 0.0058283174 0.0033713051 0.0014949322
##  [9] 0.0014267323 0.0019017245
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">balance</span><span class="hl std">(W_fit_ATET)</span>
</pre></div>
<div class="output"><pre class="knitr r">## $balanced
##                0.mean      1.mean  0.std.mean  1.std.mean
## x1         0.45126840  0.45122315  0.98190397  0.98180549
## X__000000  0.01140162  0.01140386  0.07442202  0.07443663
## X__000001  0.02406201  0.02406371  0.12266809  0.12267674
## x4         0.42190110  0.42188610  0.84338991  0.84335992
## x5        25.44688559 25.44698565  4.38169928  4.38171651
## x6        11.84777928 11.84757051  5.32097314  5.32087938
## x7         7.01529202  7.01542161  2.09572039  2.09575910
## x90        0.08398066  0.08397382  0.08536476  0.08535781
## x91       -0.06488316 -0.06488372 -0.06527511 -0.06527567
## x92        0.05753240  0.05753875  0.05671855  0.05672482
## x93        0.10164484  0.10165232  0.10382112  0.10382876
## x94       -0.12525614 -0.12522646 -0.12768926 -0.12765901
## x95       -0.10446601 -0.10446494 -0.10580928 -0.10580820
## 
## $original
##                 0.mean      1.mean   0.std.mean  1.std.mean
## x1         0.750000000  0.46739130  1.631906797  1.01698540
## X__000000  0.026960784  0.01086957  0.175981600  0.07094910
## X__000001  0.044117647  0.02173913  0.224911675  0.11082604
## x4         0.495098039  0.43478261  0.989712249  0.86914033
## x5        26.568627451 25.46739130  4.574852013  4.38523016
## x6        13.159313725 11.86956522  5.909998253  5.33075745
## x7         6.696078431  6.85869565  2.000359789  2.04893941
## x90       -0.048508020  0.09720244 -0.049307486  0.09880444
## x91       -0.007743354 -0.08901568 -0.007790131 -0.08955341
## x92       -0.022780135  0.04537868 -0.022457889  0.04473676
## x93        0.040385344  0.08656867  0.041250019  0.08842216
## x94        0.016055935 -0.12991726  0.016367825 -0.13244093
## x95       -0.065828219 -0.08072509 -0.066674669 -0.08176309
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">W_fit_ATET_over</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">CBPS</span><span class="hl std">(treat</span> <span class="hl opt">~</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">x1</span> <span class="hl opt">+</span> <span class="hl std">X__000000</span> <span class="hl opt">+</span> <span class="hl std">X__000001</span> <span class="hl opt">+</span><span class="hl std">x4</span> <span class="hl opt">+</span> <span class="hl std">x5</span> <span class="hl opt">+</span> <span class="hl std">x6</span> <span class="hl opt">+</span><span class="hl std">x7</span> <span class="hl opt">+</span><span class="hl std">x90</span> <span class="hl opt">+</span><span class="hl std">x91</span><span class="hl opt">+</span> <span class="hl std">x92</span> <span class="hl opt">+</span><span class="hl std">x93</span> <span class="hl opt">+</span><span class="hl std">x94</span><span class="hl opt">+</span> <span class="hl std">x95,</span> <span class="hl kwc">data</span> <span class="hl std">= mydata,</span> <span class="hl kwc">ATT</span> <span class="hl std">=</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwc">method</span><span class="hl std">=</span><span class="hl str">&quot;over&quot;</span><span class="hl std">,</span> <span class="hl kwc">standardize</span><span class="hl std">=stdall,</span> <span class="hl kwc">sample.weights</span><span class="hl std">=mydata</span><span class="hl opt">$</span><span class="hl std">wgt)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;Finding ATT with T=1 as the treatment.  Set ATT=2 to find ATT with T=0 as the treatment&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">summary</span><span class="hl std">(W_fit_ATET_over)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:	
## CBPS(formula = treat ~ x1 + x1 + X__000000 + X__000001 + x4 + 
##     x5 + x6 + x7 + x90 + x91 + x92 + x93 + x94 + x95, data = mydata, 
##     ATT = 1, standardize = stdall, method = &quot;over&quot;, sample.weights = mydata$wgt)
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept) 0.626    0.989      0.633   0.526       
## x1          -1.45    0.139      -10.4   0.000    ***
## X__000000   -1.55    0.162      -9.54   0.000    ***
## X__000001   -0.471   0.171      -2.76   0.00583  ** 
## x4          -0.382   0.158      -2.42   0.0157   *  
## x5          0.0636   0.174      0.365   0.715       
## x6          -0.243   0.163      -1.49   0.135       
## x7          0.0477   0.16       0.298   0.766       
## x90         0.133    0.168      0.797   0.426       
## x91         -0.134   0.166      -0.806  0.42        
## x92         0.152    0.151      1.01    0.312       
## x93         0.0758   0.125      0.607   0.544       
## x94         -0.102   0.182      -0.559  0.576       
## x95         -0.0383  0.137      -0.279  0.78        
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
## 
## J - statistic:	  0.0004300359
## Log-Likelihood:  -209.7375
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">print</span><span class="hl std">(  W_fit_ATET_over</span><span class="hl opt">$</span><span class="hl std">weights[</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">10</span><span class="hl std">])</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 0.0014037166 0.0065797896 0.0014803376 0.0010134728 0.0003948369 0.0058283174 0.0033713051 0.0014949322
##  [9] 0.0014267323 0.0019017245
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">balance</span><span class="hl std">(W_fit_ATET_over)</span>
</pre></div>
<div class="output"><pre class="knitr r">## $balanced
##                0.mean      1.mean  0.std.mean  1.std.mean
## x1         0.45126840  0.45122315  0.98190397  0.98180549
## X__000000  0.01140162  0.01140386  0.07442202  0.07443663
## X__000001  0.02406201  0.02406371  0.12266809  0.12267674
## x4         0.42190110  0.42188610  0.84338991  0.84335992
## x5        25.44688559 25.44698565  4.38169928  4.38171651
## x6        11.84777928 11.84757051  5.32097314  5.32087938
## x7         7.01529202  7.01542161  2.09572039  2.09575910
## x90        0.08398066  0.08397382  0.08536476  0.08535781
## x91       -0.06488316 -0.06488372 -0.06527511 -0.06527567
## x92        0.05753240  0.05753875  0.05671855  0.05672482
## x93        0.10164484  0.10165232  0.10382112  0.10382876
## x94       -0.12525614 -0.12522646 -0.12768926 -0.12765901
## x95       -0.10446601 -0.10446494 -0.10580928 -0.10580820
## 
## $original
##                 0.mean      1.mean   0.std.mean  1.std.mean
## x1         0.750000000  0.46739130  1.631906797  1.01698540
## X__000000  0.026960784  0.01086957  0.175981600  0.07094910
## X__000001  0.044117647  0.02173913  0.224911675  0.11082604
## x4         0.495098039  0.43478261  0.989712249  0.86914033
## x5        26.568627451 25.46739130  4.574852013  4.38523016
## x6        13.159313725 11.86956522  5.909998253  5.33075745
## x7         6.696078431  6.85869565  2.000359789  2.04893941
## x90       -0.048508020  0.09720244 -0.049307486  0.09880444
## x91       -0.007743354 -0.08901568 -0.007790131 -0.08955341
## x92       -0.022780135  0.04537868 -0.022457889  0.04473676
## x93        0.040385344  0.08656867  0.041250019  0.08842216
## x94        0.016055935 -0.12991726  0.016367825 -0.13244093
## x95       -0.065828219 -0.08072509 -0.066674669 -0.08176309
</pre></div>
</div></div>

</body>
</html>
